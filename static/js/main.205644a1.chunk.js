(this["webpackJsonpsm-react-sample"]=this["webpackJsonpsm-react-sample"]||[]).push([[0],{241:function(e,t,s){},242:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s.n(a),n=s(41),r=s.n(n),i=s(1),d=function(){return Object(i.jsx)("footer",{})},l=s(243),o=s(244),j=s(93),b=function(){return Object(i.jsx)("header",{children:Object(i.jsx)(l.a,{className:"py-3",children:Object(i.jsx)(o.a,{children:Object(i.jsx)(j.a,{children:Object(i.jsx)("div",{className:"text-center",children:"Welcome to my Todo App Implemented with React, Redux-toolkit, Typescript, Scss and Bootstrap 5"})})})})})},u=s(9),m=s(16),x=s(20),O=s.n(x),h=s(42),f=s(22),p=s(34),g=s(248),y=s(32),N=s(99),v=s.n(N),S={todo:{getUsers:function(){return v.a.get("".concat("https://60f3032c6d44f30017788866.mockapi.io/api","/users"))}}},C=Object(y.b)("todos/fetchUsers",Object(h.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.todo.getUsers();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),U=Object(y.c)({name:"users",initialState:{users:[],isLoading:!1,error:""},reducers:{addUser:function(e,t){e.isLoading=!0,e.users.push(t.payload),e.isLoading=!1},editUser:function(e,t){var s=t.payload;e.isLoading=!0,e.users=e.users.map((function(e){return e.id===s.id?Object(m.a)({},s):e})),e.isLoading=!1},deleteUser:function(e,t){var s=t.payload;e.isLoading=!0,e.users=e.users.filter((function(e){return e.id!==s})),e.isLoading=!1}},extraReducers:function(e){e.addCase(C.pending,(function(e,t){t.payload;e.isLoading=!0})).addCase(C.fulfilled,(function(e,t){var s=t.payload;e.isLoading=!1,e.users=e.users.concat(s)})).addCase(C.rejected,(function(e,t){var s=t.error;e.isLoading=!1,e.error=s.message}))}}),k=U.actions,L=k.addUser,T=k.deleteUser,w=k.editUser,B=U.reducer,E=s(15),F=s(101),A=s(245),I=s(247),M=["label"],R=function(e){var t=e.label,s=Object(F.a)(e,M),a=Object(f.d)(s),c=Object(u.a)(a,2),n=c[0],r=c[1],d=r.error&&r.touched;return Object(i.jsxs)(A.a,{hasValidation:!0,className:"mb-3 mb-md-0",children:[Object(i.jsx)(A.a.Text,{children:t}),Object(i.jsx)(f.a,Object(m.a)(Object(m.a)({type:"text",as:I.a.Control},n),{},{isInvalid:d})),d&&Object(i.jsx)(I.a.Control.Feedback,{type:"invalid",children:r.error})]})},q=s(30),D=s(31),P=function(e){var t=e.userToEdit,s=e.setUserToEdit,c=null!==t,n=p.b({firstName:p.c().max(15,"Must be 15 characters or less!").required("Please enter your first name!"),lastName:p.c().max(15,"Must be 15 characters or less!").required("Please enter your last name!"),age:p.a().max(99,"Must be less than 99 years!").required("Please enter your age!")}),r=Object(a.useState)(1),d=Object(u.a)(r,2),l=d[0],b=d[1],x={id:l,firstName:"",lastName:"",age:""},y=Object(E.b)(),N=function(){var e=Object(h.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{y(C())}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.jsx)(f.c,{initialValues:c?t:x,validationSchema:n,enableReinitialize:!0,onSubmit:function(e,t){var a=t.setSubmitting,n=t.resetForm;setTimeout((function(){c?(y(w(e)),s(null)):(b(l+1),e=Object(m.a)(Object(m.a)({},e),{},{id:l}),y(L(e)));n(),a(!1)}),1e3)},children:function(e){var t=e.isSubmitting;e.values;return Object(i.jsx)(f.b,{className:"mb-3",children:Object(i.jsxs)(o.a,{children:[Object(i.jsx)(j.a,{xs:12,md:3,children:Object(i.jsx)(R,{name:"firstName",label:"First Name",type:"text"})}),Object(i.jsx)(j.a,{xs:12,md:3,children:Object(i.jsx)(R,{name:"lastName",label:"Last Name",type:"text"})}),Object(i.jsx)(j.a,{xs:12,md:3,children:Object(i.jsx)(R,{name:"age",label:"Age",type:"text"})}),Object(i.jsxs)(j.a,{xs:12,md:3,children:[c?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(g.a,{variant:"primary",type:"submit",disabled:t,className:" mb-3 mb-md-0 me-md-1",children:"Save"}),Object(i.jsx)(g.a,{variant:"danger",title:"Cancel",className:" mb-3 mb-md-0 me-md-1",children:Object(i.jsx)(q.a,{icon:D.c,onClick:function(){s(null)}})})]}):Object(i.jsx)(g.a,{variant:"primary",type:"submit",disabled:t,className:" mb-3 mb-md-0 me-md-5",children:"Add"}),Object(i.jsx)(g.a,{variant:"secondary",type:"button",onClick:N,children:"Fetch Some Users"})]})]})})}})},J=s(246),V=s(58),Y=s.n(V),z=function(e){var t=e.setUserToEdit,s=Object(E.b)(),a=Object(E.c)((function(e){return e.userSlice.users}));return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(J.a,{striped:!0,bordered:!0,responsive:!0,hover:!0,variant:"dark",className:"users-table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"text-center",children:"ID"}),Object(i.jsx)("th",{className:"text-center",children:"First Name"}),Object(i.jsx)("th",{className:"text-center",children:"Last Name"}),Object(i.jsx)("th",{className:"text-center",children:"Age"}),Object(i.jsx)("th",{className:"text-center",children:"Actions"})]})}),Object(i.jsx)("tbody",{children:a.length>0&&a.map((function(e,a){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"text-center",children:e.id}),Object(i.jsx)("td",{className:"text-center",children:e.firstName}),Object(i.jsx)("td",{className:"text-center",children:e.lastName}),Object(i.jsx)("td",{className:"text-center",children:e.age}),Object(i.jsxs)("td",{className:"text-center",children:[Object(i.jsx)(q.a,{className:"delete-icon",icon:D.b,title:"Delete",onClick:function(){var t;t=e.id,Y.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,buttonsStyling:!1,customClass:{confirmButton:"btn btn-danger",cancelButton:"btn btn-outline-secondary ms-3"},confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&(s(T(t)),Y.a.fire({title:"Successfully Deleted",icon:"success",showConfirmButton:!0,buttonsStyling:!1,customClass:{confirmButton:"btn btn-primary"},confirmButtonText:"Ok!"}))}))}}),Object(i.jsx)(q.a,{className:"edit-icon ms-4",icon:D.a,title:"Edit",onClick:function(){t(e)}})]})]},a)}))})]})})},W=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),s=t[0],c=t[1];return Object(i.jsx)("main",{children:Object(i.jsx)(l.a,{className:"pt-5",children:Object(i.jsx)(o.a,{children:Object(i.jsxs)(j.a,{children:[Object(i.jsx)(P,{userToEdit:s,setUserToEdit:c}),Object(i.jsx)(z,{setUserToEdit:c})]})})})})},G=(s(241),function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b,{}),Object(i.jsx)(W,{}),Object(i.jsx)(d,{})]})}),H=Object(y.a)({reducer:{userSlice:B}});r.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(E.a,{store:H,children:Object(i.jsx)(G,{})})}),document.getElementById("root"))}},[[242,1,2]]]);
//# sourceMappingURL=main.205644a1.chunk.js.map